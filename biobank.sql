--
-- PostgreSQL database dump
--

\restrict 0wXNiaph0zd3jQK21f9Wg9UcouSj9DNbvhUwcHG3nHuCYcJT3QP3242UfGybGQ3

-- Dumped from database version 18.1
-- Dumped by pg_dump version 18.1

-- Started on 2026-02-10 14:26:32

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET transaction_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- TOC entry 895 (class 1247 OID 16398)
-- Name: expiry_status_type; Type: TYPE; Schema: public; Owner: postgres
--

CREATE TYPE public.expiry_status_type AS ENUM (
    'GREEN',
    'YELLOW',
    'RED'
);


ALTER TYPE public.expiry_status_type OWNER TO postgres;

--
-- TOC entry 5138 (class 0 OID 0)
-- Dependencies: 895
-- Name: TYPE expiry_status_type; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON TYPE public.expiry_status_type IS 'green=годен, yellow=истекает, red=просрочен';


--
-- TOC entry 922 (class 1247 OID 19194)
-- Name: expirystatus; Type: TYPE; Schema: public; Owner: postgres
--

CREATE TYPE public.expirystatus AS ENUM (
    'GREEN',
    'RED',
    'YELLOW'
);


ALTER TYPE public.expirystatus OWNER TO postgres;

--
-- TOC entry 919 (class 1247 OID 19184)
-- Name: gender; Type: TYPE; Schema: public; Owner: postgres
--

CREATE TYPE public.gender AS ENUM (
    'FEMALE',
    'MALE',
    'UNKNOWN'
);


ALTER TYPE public.gender OWNER TO postgres;

--
-- TOC entry 892 (class 1247 OID 16390)
-- Name: gender_code_type; Type: TYPE; Schema: public; Owner: postgres
--

CREATE TYPE public.gender_code_type AS ENUM (
    'UNKNOWN',
    'MALE',
    'FEMALE'
);


ALTER TYPE public.gender_code_type OWNER TO postgres;

--
-- TOC entry 5139 (class 0 OID 0)
-- Dependencies: 892
-- Name: TYPE gender_code_type; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON TYPE public.gender_code_type IS '0=Неизвестно, 1=Мужской, 2=Женский';


--
-- TOC entry 4872 (class 2605 OID 19202)
-- Name: CAST (public.expirystatus AS character varying); Type: CAST; Schema: -; Owner: -
--

CREATE CAST (public.expirystatus AS character varying) WITH INOUT AS IMPLICIT;


--
-- TOC entry 4871 (class 2605 OID 19192)
-- Name: CAST (public.gender AS character varying); Type: CAST; Schema: -; Owner: -
--

CREATE CAST (public.gender AS character varying) WITH INOUT AS IMPLICIT;


--
-- TOC entry 4791 (class 2605 OID 19201)
-- Name: CAST (character varying AS public.expirystatus); Type: CAST; Schema: -; Owner: -
--

CREATE CAST (character varying AS public.expirystatus) WITH INOUT AS IMPLICIT;


--
-- TOC entry 4790 (class 2605 OID 19191)
-- Name: CAST (character varying AS public.gender); Type: CAST; Schema: -; Owner: -
--

CREATE CAST (character varying AS public.gender) WITH INOUT AS IMPLICIT;


SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 232 (class 1259 OID 18716)
-- Name: departments; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.departments (
    department_id bigint NOT NULL,
    department_name character varying(255) NOT NULL
);


ALTER TABLE public.departments OWNER TO postgres;

--
-- TOC entry 231 (class 1259 OID 18715)
-- Name: departments_department_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.departments ALTER COLUMN department_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.departments_department_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 234 (class 1259 OID 18724)
-- Name: diagnoses; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.diagnoses (
    diagnosis_id bigint NOT NULL,
    diagnosis_name character varying(255) NOT NULL,
    icd10_code character varying(255)
);


ALTER TABLE public.diagnoses OWNER TO postgres;

--
-- TOC entry 233 (class 1259 OID 18723)
-- Name: diagnoses_diagnosis_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.diagnoses ALTER COLUMN diagnosis_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.diagnoses_diagnosis_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 236 (class 1259 OID 18734)
-- Name: financing_sources; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.financing_sources (
    financing_source_id bigint NOT NULL,
    financing_source_name character varying(255) NOT NULL
);


ALTER TABLE public.financing_sources OWNER TO postgres;

--
-- TOC entry 235 (class 1259 OID 18733)
-- Name: financing_sources_financing_source_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.financing_sources ALTER COLUMN financing_source_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.financing_sources_financing_source_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 238 (class 1259 OID 18742)
-- Name: nationalities; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.nationalities (
    nationality_id bigint NOT NULL,
    nationality_name character varying(255) NOT NULL
);


ALTER TABLE public.nationalities OWNER TO postgres;

--
-- TOC entry 237 (class 1259 OID 18741)
-- Name: nationalities_nationality_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.nationalities ALTER COLUMN nationality_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.nationalities_nationality_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 240 (class 1259 OID 18750)
-- Name: patients; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.patients (
    patient_id bigint NOT NULL,
    birth_date date NOT NULL,
    created_at_patient timestamp(6) without time zone,
    gender public.gender_code_type,
    informed_consent boolean,
    patient_barcode character varying(255) NOT NULL,
    nationality_id bigint,
    main_diagnosis_id bigint
);


ALTER TABLE public.patients OWNER TO postgres;

--
-- TOC entry 239 (class 1259 OID 18749)
-- Name: patients_patient_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.patients ALTER COLUMN patient_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.patients_patient_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 228 (class 1259 OID 16662)
-- Name: permissions; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.permissions (
    permission_id integer NOT NULL,
    permission_name character varying(100) NOT NULL
);


ALTER TABLE public.permissions OWNER TO postgres;

--
-- TOC entry 227 (class 1259 OID 16661)
-- Name: permissions_permission_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.permissions_permission_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.permissions_permission_id_seq OWNER TO postgres;

--
-- TOC entry 5140 (class 0 OID 0)
-- Dependencies: 227
-- Name: permissions_permission_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.permissions_permission_id_seq OWNED BY public.permissions.permission_id;


--
-- TOC entry 242 (class 1259 OID 18759)
-- Name: research_groups; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.research_groups (
    research_group_id bigint NOT NULL,
    research_group_name character varying(255) NOT NULL
);


ALTER TABLE public.research_groups OWNER TO postgres;

--
-- TOC entry 241 (class 1259 OID 18758)
-- Name: research_groups_research_group_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.research_groups ALTER COLUMN research_group_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.research_groups_research_group_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 244 (class 1259 OID 18767)
-- Name: researches; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.researches (
    research_id bigint NOT NULL,
    department_id bigint,
    financing_source_id bigint,
    is_active boolean,
    research_group_id bigint,
    research_name character varying(255) NOT NULL,
    research_number character varying(255) NOT NULL
);


ALTER TABLE public.researches OWNER TO postgres;

--
-- TOC entry 243 (class 1259 OID 18766)
-- Name: researches_research_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.researches ALTER COLUMN research_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.researches_research_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 230 (class 1259 OID 16689)
-- Name: role_permissions; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.role_permissions (
    role_id integer NOT NULL,
    permission_id integer NOT NULL
);


ALTER TABLE public.role_permissions OWNER TO postgres;

--
-- TOC entry 226 (class 1259 OID 16651)
-- Name: roles; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.roles (
    role_id integer NOT NULL,
    role_name character varying(50) NOT NULL
);


ALTER TABLE public.roles OWNER TO postgres;

--
-- TOC entry 225 (class 1259 OID 16650)
-- Name: roles_role_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.roles_role_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.roles_role_id_seq OWNER TO postgres;

--
-- TOC entry 5141 (class 0 OID 0)
-- Dependencies: 225
-- Name: roles_role_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.roles_role_id_seq OWNED BY public.roles.role_id;


--
-- TOC entry 246 (class 1259 OID 18778)
-- Name: sample_statuses; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.sample_statuses (
    sample_status_id bigint NOT NULL,
    sample_status_name character varying(255) NOT NULL
);


ALTER TABLE public.sample_statuses OWNER TO postgres;

--
-- TOC entry 245 (class 1259 OID 18777)
-- Name: sample_statuses_sample_status_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.sample_statuses ALTER COLUMN sample_status_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.sample_statuses_sample_status_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 222 (class 1259 OID 16609)
-- Name: sample_transactions; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.sample_transactions (
    transaction_id integer NOT NULL,
    sample_id integer NOT NULL,
    user_id integer NOT NULL,
    transaction_type_id integer,
    transaction_date timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    quantity_change integer NOT NULL,
    department_id integer,
    purpose text,
    notes text
);


ALTER TABLE public.sample_transactions OWNER TO postgres;

--
-- TOC entry 221 (class 1259 OID 16608)
-- Name: sample_transactions_transaction_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.sample_transactions_transaction_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.sample_transactions_transaction_id_seq OWNER TO postgres;

--
-- TOC entry 5142 (class 0 OID 0)
-- Dependencies: 221
-- Name: sample_transactions_transaction_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.sample_transactions_transaction_id_seq OWNED BY public.sample_transactions.transaction_id;


--
-- TOC entry 248 (class 1259 OID 18786)
-- Name: sample_types; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.sample_types (
    sample_type_id bigint NOT NULL,
    sample_type_name character varying(255) NOT NULL
);


ALTER TABLE public.sample_types OWNER TO postgres;

--
-- TOC entry 247 (class 1259 OID 18785)
-- Name: sample_types_sample_type_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.sample_types ALTER COLUMN sample_type_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.sample_types_sample_type_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 250 (class 1259 OID 18794)
-- Name: samples; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.samples (
    sample_id bigint NOT NULL,
    actual_storage_months integer,
    barcode character varying(255) NOT NULL,
    container_id bigint,
    created_at_sample timestamp(6) without time zone,
    current_quantity integer NOT NULL,
    expiry_status public.expiry_status_type,
    initial_quantity integer NOT NULL,
    position_in_container character varying(255),
    recommended_storage_months integer,
    sample_status_id bigint,
    sample_type_id bigint,
    visit_id bigint NOT NULL,
    tube_status_ids character varying(255)
);


ALTER TABLE public.samples OWNER TO postgres;

--
-- TOC entry 249 (class 1259 OID 18793)
-- Name: samples_sample_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.samples ALTER COLUMN sample_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.samples_sample_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 252 (class 1259 OID 18807)
-- Name: storage_containers; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.storage_containers (
    container_id bigint NOT NULL,
    container_number integer,
    container_type character varying(255),
    current_samples_count integer NOT NULL,
    max_samples_count integer NOT NULL,
    shelf_number character varying(255),
    unit_id bigint NOT NULL,
    columns_count integer,
    rows_count integer
);


ALTER TABLE public.storage_containers OWNER TO postgres;

--
-- TOC entry 251 (class 1259 OID 18806)
-- Name: storage_containers_container_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.storage_containers ALTER COLUMN container_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.storage_containers_container_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 254 (class 1259 OID 18819)
-- Name: storage_locations; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.storage_locations (
    location_id bigint NOT NULL,
    address character varying(255) NOT NULL,
    description character varying(255),
    location_name character varying(255) NOT NULL,
    room_number character varying(255) NOT NULL
);


ALTER TABLE public.storage_locations OWNER TO postgres;

--
-- TOC entry 253 (class 1259 OID 18818)
-- Name: storage_locations_location_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.storage_locations ALTER COLUMN location_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.storage_locations_location_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 256 (class 1259 OID 18831)
-- Name: storage_units; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.storage_units (
    unit_id bigint NOT NULL,
    shelves_count integer,
    unit_name character varying(255) NOT NULL,
    unit_type character varying(255) NOT NULL,
    location_id bigint NOT NULL
);


ALTER TABLE public.storage_units OWNER TO postgres;

--
-- TOC entry 255 (class 1259 OID 18830)
-- Name: storage_units_unit_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.storage_units ALTER COLUMN unit_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.storage_units_unit_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 220 (class 1259 OID 16598)
-- Name: transaction_types; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.transaction_types (
    transaction_type_id integer NOT NULL,
    transaction_type_name character varying(50) NOT NULL
);


ALTER TABLE public.transaction_types OWNER TO postgres;

--
-- TOC entry 219 (class 1259 OID 16597)
-- Name: transaction_types_transaction_type_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.transaction_types_transaction_type_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.transaction_types_transaction_type_id_seq OWNER TO postgres;

--
-- TOC entry 5143 (class 0 OID 0)
-- Dependencies: 219
-- Name: transaction_types_transaction_type_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.transaction_types_transaction_type_id_seq OWNED BY public.transaction_types.transaction_type_id;


--
-- TOC entry 229 (class 1259 OID 16672)
-- Name: user_roles; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.user_roles (
    user_id integer NOT NULL,
    role_id integer NOT NULL
);


ALTER TABLE public.user_roles OWNER TO postgres;

--
-- TOC entry 224 (class 1259 OID 16638)
-- Name: users; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.users (
    user_id integer NOT NULL,
    username character varying(50) NOT NULL,
    password character varying(255) NOT NULL,
    full_name character varying(150),
    is_active boolean DEFAULT true
);


ALTER TABLE public.users OWNER TO postgres;

--
-- TOC entry 5144 (class 0 OID 0)
-- Dependencies: 224
-- Name: COLUMN users.password; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.users.password IS 'Хэш пароля (BCrypt)';


--
-- TOC entry 223 (class 1259 OID 16637)
-- Name: users_user_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.users_user_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.users_user_id_seq OWNER TO postgres;

--
-- TOC entry 5145 (class 0 OID 0)
-- Dependencies: 223
-- Name: users_user_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.users_user_id_seq OWNED BY public.users.user_id;


--
-- TOC entry 259 (class 1259 OID 18995)
-- Name: visit_comorbid_diagnoses; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.visit_comorbid_diagnoses (
    visit_id bigint NOT NULL,
    diagnosis_id bigint
);


ALTER TABLE public.visit_comorbid_diagnoses OWNER TO postgres;

--
-- TOC entry 258 (class 1259 OID 18843)
-- Name: visits; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.visits (
    visit_id bigint NOT NULL,
    age_at_collection integer NOT NULL,
    collection_date timestamp(6) without time zone NOT NULL,
    diagnosis_id bigint,
    patient_id bigint NOT NULL,
    research_id bigint NOT NULL,
    visit_number integer NOT NULL
);


ALTER TABLE public.visits OWNER TO postgres;

--
-- TOC entry 257 (class 1259 OID 18842)
-- Name: visits_visit_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.visits ALTER COLUMN visit_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.visits_visit_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 4879 (class 2604 OID 16665)
-- Name: permissions permission_id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.permissions ALTER COLUMN permission_id SET DEFAULT nextval('public.permissions_permission_id_seq'::regclass);


--
-- TOC entry 4878 (class 2604 OID 16654)
-- Name: roles role_id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.roles ALTER COLUMN role_id SET DEFAULT nextval('public.roles_role_id_seq'::regclass);


--
-- TOC entry 4874 (class 2604 OID 16612)
-- Name: sample_transactions transaction_id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.sample_transactions ALTER COLUMN transaction_id SET DEFAULT nextval('public.sample_transactions_transaction_id_seq'::regclass);


--
-- TOC entry 4873 (class 2604 OID 16601)
-- Name: transaction_types transaction_type_id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.transaction_types ALTER COLUMN transaction_type_id SET DEFAULT nextval('public.transaction_types_transaction_type_id_seq'::regclass);


--
-- TOC entry 4876 (class 2604 OID 16641)
-- Name: users user_id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users ALTER COLUMN user_id SET DEFAULT nextval('public.users_user_id_seq'::regclass);


--
-- TOC entry 5105 (class 0 OID 18716)
-- Dependencies: 232
-- Data for Name: departments; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.departments (department_id, department_name) FROM stdin;
1	Отдел педиатрии
2	Отдел персонализированной и профилактической медицины
3	Функциональная группа геномных исследований и биоинформационного анализа
4	Функциональная группа информационных систем и биостатистики
\.


--
-- TOC entry 5107 (class 0 OID 18724)
-- Dependencies: 234
-- Data for Name: diagnoses; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.diagnoses (diagnosis_id, diagnosis_name, icd10_code) FROM stdin;
3	Эндометриоз	N80
4	Бесплодие мужское	N46
5	Бесплодие женское	N97
6	Внематочная беременность	O00
7	Простатит	N41
1	Крипторхизм	Q53
2	Фимоз и парафимоз	N47
8	Послеродовая депрессия	F53.0
\.


--
-- TOC entry 5109 (class 0 OID 18734)
-- Dependencies: 236
-- Data for Name: financing_sources; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.financing_sources (financing_source_id, financing_source_name) FROM stdin;
1	Грант Российского научного фонда (РНФ) № 24-15-20045
2	Государственное задание Минздрава России
3	Внутренний грант центра
4	Коммерческий контракт с фармацевтической компанией
\.


--
-- TOC entry 5111 (class 0 OID 18742)
-- Dependencies: 238
-- Data for Name: nationalities; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.nationalities (nationality_id, nationality_name) FROM stdin;
1	Армянин
2	Азербайджанец
3	Белорус
4	Бурят
5	Еврей
7	Немец
9	Татарин
10	Украинец
11	Не указано
6	Калмык
8	Русский
\.


--
-- TOC entry 5113 (class 0 OID 18750)
-- Dependencies: 240
-- Data for Name: patients; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.patients (patient_id, birth_date, created_at_patient, gender, informed_consent, patient_barcode, nationality_id, main_diagnosis_id) FROM stdin;
1	1996-05-15	2025-09-04 15:00:00	FEMALE	t	7367486313910	9	3
2	1988-02-02	2025-11-13 13:00:00	MALE	t	1549204728035	10	1
3	2000-06-07	2025-12-26 15:00:00	FEMALE	t	5328560384158	6	3
6	1995-11-20	2026-01-19 14:00:00	MALE	t	4721553748105	2	4
5	2002-04-07	2026-01-12 14:00:00	MALE	t	2730588641673	4	2
4	1998-08-30	2026-01-02 15:00:00	FEMALE	t	6307712648935	8	5
\.


--
-- TOC entry 5101 (class 0 OID 16662)
-- Dependencies: 228
-- Data for Name: permissions; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.permissions (permission_id, permission_name) FROM stdin;
\.


--
-- TOC entry 5115 (class 0 OID 18759)
-- Dependencies: 242
-- Data for Name: research_groups; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.research_groups (research_group_id, research_group_name) FROM stdin;
1	Дети, рождённые на сроке гестации менее 30 недель
2	Пациенты 18-35 лет с отягощённым семейным анамнезом по сердечно-сосудистым заболеваниям
4	Исследователи и врачи-педиатры из 3-х клинических центров
3	Геномные данные пациентов с наследственными заболеваниями
\.


--
-- TOC entry 5117 (class 0 OID 18767)
-- Dependencies: 244
-- Data for Name: researches; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.researches (research_id, department_id, financing_source_id, is_active, research_group_id, research_name, research_number) FROM stdin;
1	1	1	t	1	Молекулярно-генетические предикторы формирования бронхолегочной дисплазии у глубоко недоношенных детей	PEDI-2024-01
2	2	2	t	2	Разработка алгоритма персонализированного прогнозирования кардиометаболических рисков у лиц молодого возраста	PERS-2025-03
3	3	3	t	3	Создание биоинформационного конвейера для анализа данных полногеномного секвенирования (NGS)	GENOM-2026-02
4	4	4	t	4	Внедрение системы электронных исследовательских форм (eCRF) для мультицентровых исследований в педиатрии	STAT-2024-01
\.


--
-- TOC entry 5103 (class 0 OID 16689)
-- Dependencies: 230
-- Data for Name: role_permissions; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.role_permissions (role_id, permission_id) FROM stdin;
\.


--
-- TOC entry 5099 (class 0 OID 16651)
-- Dependencies: 226
-- Data for Name: roles; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.roles (role_id, role_name) FROM stdin;
1	Администратор
2	Лаборант
3	Исследователь
4	Гость
\.


--
-- TOC entry 5119 (class 0 OID 18778)
-- Dependencies: 246
-- Data for Name: sample_statuses; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.sample_statuses (sample_status_id, sample_status_name) FROM stdin;
1	В хранилище
2	Изъят
3	Утилизирован
4	Исчерпан
\.


--
-- TOC entry 5095 (class 0 OID 16609)
-- Dependencies: 222
-- Data for Name: sample_transactions; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.sample_transactions (transaction_id, sample_id, user_id, transaction_type_id, transaction_date, quantity_change, department_id, purpose, notes) FROM stdin;
\.


--
-- TOC entry 5121 (class 0 OID 18786)
-- Dependencies: 248
-- Data for Name: sample_types; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.sample_types (sample_type_id, sample_type_name) FROM stdin;
1	Кровь
2	Плазма
3	Сыворотка
4	Моча
5	Слюна
6	Ткань
7	ДНК
8	РНК
\.


--
-- TOC entry 5123 (class 0 OID 18794)
-- Dependencies: 250
-- Data for Name: samples; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.samples (sample_id, actual_storage_months, barcode, container_id, created_at_sample, current_quantity, expiry_status, initial_quantity, position_in_container, recommended_storage_months, sample_status_id, sample_type_id, visit_id, tube_status_ids) FROM stdin;
2	1	1234567890123	4	2025-12-22 10:00:00	2	GREEN	2	E1, F1	12	1	7	3	1, 1
3	0	9874442376541	2	2026-01-16 13:00:00	1	GREEN	1	A1	6	1	3	5	1
1	1	3467222456891	4	2025-12-19 11:00:00	3	GREEN	3	A1, B1, C1	12	1	1	1	1, 1, 2
7	1	12345670987654	4	2025-12-22 10:00:00	2	YELLOW	2	A5, B5	2	1	4	3	1, 1
\.


--
-- TOC entry 5125 (class 0 OID 18807)
-- Dependencies: 252
-- Data for Name: storage_containers; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.storage_containers (container_id, container_number, container_type, current_samples_count, max_samples_count, shelf_number, unit_id, columns_count, rows_count) FROM stdin;
4	2	Штатив для стандартных пробирок (5-15 мл)	0	30	Полка 1	1	6	5
2	1	Штатив для микропробирок (ПЦР-планшет, 0.2 мл)	0	30	Полка 1	1	6	5
1	3	Штатив для микропробирок (ПЦР-планшет, 0.2 мл)	0	30	Полка 1	1	6	5
\.


--
-- TOC entry 5127 (class 0 OID 18819)
-- Dependencies: 254
-- Data for Name: storage_locations; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.storage_locations (location_id, address, description, location_name, room_number) FROM stdin;
1	г. Иркутск, ул. Тимирязева, 16	дополнительная информация	Локация 1	205
\.


--
-- TOC entry 5129 (class 0 OID 18831)
-- Dependencies: 256
-- Data for Name: storage_units; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.storage_units (unit_id, shelves_count, unit_name, unit_type, location_id) FROM stdin;
1	5	Хранилище №1	Холодильник	1
\.


--
-- TOC entry 5093 (class 0 OID 16598)
-- Dependencies: 220
-- Data for Name: transaction_types; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.transaction_types (transaction_type_id, transaction_type_name) FROM stdin;
1	Создан
2	Размещен
3	Изъят для исследования
4	Возвращен
5	Утилизирован
\.


--
-- TOC entry 5102 (class 0 OID 16672)
-- Dependencies: 229
-- Data for Name: user_roles; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.user_roles (user_id, role_id) FROM stdin;
\.


--
-- TOC entry 5097 (class 0 OID 16638)
-- Dependencies: 224
-- Data for Name: users; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.users (user_id, username, password, full_name, is_active) FROM stdin;
\.


--
-- TOC entry 5132 (class 0 OID 18995)
-- Dependencies: 259
-- Data for Name: visit_comorbid_diagnoses; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.visit_comorbid_diagnoses (visit_id, diagnosis_id) FROM stdin;
2	6
1	6
1	8
3	7
3	2
4	4
\.


--
-- TOC entry 5131 (class 0 OID 18843)
-- Dependencies: 258
-- Data for Name: visits; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.visits (visit_id, age_at_collection, collection_date, diagnosis_id, patient_id, research_id, visit_number) FROM stdin;
1	29	2025-12-19 11:00:00	3	1	2	1
2	25	2025-12-17 12:05:00	3	3	2	1
4	37	2025-12-18 14:00:00	1	2	3	1
5	30	2026-01-16 13:00:00	4	6	3	2
3	30	2025-12-22 10:00:00	4	6	2	1
7	37	2026-01-15 09:00:00	1	2	4	2
\.


--
-- TOC entry 5146 (class 0 OID 0)
-- Dependencies: 231
-- Name: departments_department_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.departments_department_id_seq', 4, true);


--
-- TOC entry 5147 (class 0 OID 0)
-- Dependencies: 233
-- Name: diagnoses_diagnosis_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.diagnoses_diagnosis_id_seq', 8, true);


--
-- TOC entry 5148 (class 0 OID 0)
-- Dependencies: 235
-- Name: financing_sources_financing_source_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.financing_sources_financing_source_id_seq', 4, true);


--
-- TOC entry 5149 (class 0 OID 0)
-- Dependencies: 237
-- Name: nationalities_nationality_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.nationalities_nationality_id_seq', 187, true);


--
-- TOC entry 5150 (class 0 OID 0)
-- Dependencies: 239
-- Name: patients_patient_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.patients_patient_id_seq', 9, true);


--
-- TOC entry 5151 (class 0 OID 0)
-- Dependencies: 227
-- Name: permissions_permission_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.permissions_permission_id_seq', 1, false);


--
-- TOC entry 5152 (class 0 OID 0)
-- Dependencies: 241
-- Name: research_groups_research_group_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.research_groups_research_group_id_seq', 5, true);


--
-- TOC entry 5153 (class 0 OID 0)
-- Dependencies: 243
-- Name: researches_research_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.researches_research_id_seq', 6, true);


--
-- TOC entry 5154 (class 0 OID 0)
-- Dependencies: 225
-- Name: roles_role_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.roles_role_id_seq', 4, true);


--
-- TOC entry 5155 (class 0 OID 0)
-- Dependencies: 245
-- Name: sample_statuses_sample_status_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.sample_statuses_sample_status_id_seq', 4, true);


--
-- TOC entry 5156 (class 0 OID 0)
-- Dependencies: 221
-- Name: sample_transactions_transaction_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.sample_transactions_transaction_id_seq', 1, false);


--
-- TOC entry 5157 (class 0 OID 0)
-- Dependencies: 247
-- Name: sample_types_sample_type_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.sample_types_sample_type_id_seq', 8, true);


--
-- TOC entry 5158 (class 0 OID 0)
-- Dependencies: 249
-- Name: samples_sample_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.samples_sample_id_seq', 7, true);


--
-- TOC entry 5159 (class 0 OID 0)
-- Dependencies: 251
-- Name: storage_containers_container_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.storage_containers_container_id_seq', 4, true);


--
-- TOC entry 5160 (class 0 OID 0)
-- Dependencies: 253
-- Name: storage_locations_location_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.storage_locations_location_id_seq', 1, true);


--
-- TOC entry 5161 (class 0 OID 0)
-- Dependencies: 255
-- Name: storage_units_unit_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.storage_units_unit_id_seq', 1, true);


--
-- TOC entry 5162 (class 0 OID 0)
-- Dependencies: 219
-- Name: transaction_types_transaction_type_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.transaction_types_transaction_type_id_seq', 5, true);


--
-- TOC entry 5163 (class 0 OID 0)
-- Dependencies: 223
-- Name: users_user_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.users_user_id_seq', 1, false);


--
-- TOC entry 5164 (class 0 OID 0)
-- Dependencies: 257
-- Name: visits_visit_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.visits_visit_id_seq', 12, true);


--
-- TOC entry 4903 (class 2606 OID 18722)
-- Name: departments departments_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.departments
    ADD CONSTRAINT departments_pkey PRIMARY KEY (department_id);


--
-- TOC entry 4905 (class 2606 OID 18732)
-- Name: diagnoses diagnoses_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.diagnoses
    ADD CONSTRAINT diagnoses_pkey PRIMARY KEY (diagnosis_id);


--
-- TOC entry 4907 (class 2606 OID 18740)
-- Name: financing_sources financing_sources_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.financing_sources
    ADD CONSTRAINT financing_sources_pkey PRIMARY KEY (financing_source_id);


--
-- TOC entry 4909 (class 2606 OID 18748)
-- Name: nationalities nationalities_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.nationalities
    ADD CONSTRAINT nationalities_pkey PRIMARY KEY (nationality_id);


--
-- TOC entry 4913 (class 2606 OID 18757)
-- Name: patients patients_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.patients
    ADD CONSTRAINT patients_pkey PRIMARY KEY (patient_id);


--
-- TOC entry 4895 (class 2606 OID 16671)
-- Name: permissions permissions_permission_name_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.permissions
    ADD CONSTRAINT permissions_permission_name_key UNIQUE (permission_name);


--
-- TOC entry 4897 (class 2606 OID 16669)
-- Name: permissions permissions_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.permissions
    ADD CONSTRAINT permissions_pkey PRIMARY KEY (permission_id);


--
-- TOC entry 4917 (class 2606 OID 18765)
-- Name: research_groups research_groups_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.research_groups
    ADD CONSTRAINT research_groups_pkey PRIMARY KEY (research_group_id);


--
-- TOC entry 4919 (class 2606 OID 18776)
-- Name: researches researches_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.researches
    ADD CONSTRAINT researches_pkey PRIMARY KEY (research_id);


--
-- TOC entry 4901 (class 2606 OID 16695)
-- Name: role_permissions role_permissions_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.role_permissions
    ADD CONSTRAINT role_permissions_pkey PRIMARY KEY (role_id, permission_id);


--
-- TOC entry 4891 (class 2606 OID 16658)
-- Name: roles roles_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.roles
    ADD CONSTRAINT roles_pkey PRIMARY KEY (role_id);


--
-- TOC entry 4893 (class 2606 OID 16660)
-- Name: roles roles_role_name_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.roles
    ADD CONSTRAINT roles_role_name_key UNIQUE (role_name);


--
-- TOC entry 4921 (class 2606 OID 18784)
-- Name: sample_statuses sample_statuses_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.sample_statuses
    ADD CONSTRAINT sample_statuses_pkey PRIMARY KEY (sample_status_id);


--
-- TOC entry 4885 (class 2606 OID 16621)
-- Name: sample_transactions sample_transactions_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.sample_transactions
    ADD CONSTRAINT sample_transactions_pkey PRIMARY KEY (transaction_id);


--
-- TOC entry 4923 (class 2606 OID 18792)
-- Name: sample_types sample_types_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.sample_types
    ADD CONSTRAINT sample_types_pkey PRIMARY KEY (sample_type_id);


--
-- TOC entry 4925 (class 2606 OID 18805)
-- Name: samples samples_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.samples
    ADD CONSTRAINT samples_pkey PRIMARY KEY (sample_id);


--
-- TOC entry 4929 (class 2606 OID 18817)
-- Name: storage_containers storage_containers_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.storage_containers
    ADD CONSTRAINT storage_containers_pkey PRIMARY KEY (container_id);


--
-- TOC entry 4931 (class 2606 OID 18829)
-- Name: storage_locations storage_locations_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.storage_locations
    ADD CONSTRAINT storage_locations_pkey PRIMARY KEY (location_id);


--
-- TOC entry 4933 (class 2606 OID 18841)
-- Name: storage_units storage_units_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.storage_units
    ADD CONSTRAINT storage_units_pkey PRIMARY KEY (unit_id);


--
-- TOC entry 4881 (class 2606 OID 16605)
-- Name: transaction_types transaction_types_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.transaction_types
    ADD CONSTRAINT transaction_types_pkey PRIMARY KEY (transaction_type_id);


--
-- TOC entry 4883 (class 2606 OID 16607)
-- Name: transaction_types transaction_types_transaction_type_name_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.transaction_types
    ADD CONSTRAINT transaction_types_transaction_type_name_key UNIQUE (transaction_type_name);


--
-- TOC entry 4915 (class 2606 OID 18857)
-- Name: patients ukchdyu78fj7fvtxna9f3mcqnyp; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.patients
    ADD CONSTRAINT ukchdyu78fj7fvtxna9f3mcqnyp UNIQUE (patient_barcode);


--
-- TOC entry 4911 (class 2606 OID 18855)
-- Name: nationalities ukqm3a8r569940imnakvp4kpo8g; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.nationalities
    ADD CONSTRAINT ukqm3a8r569940imnakvp4kpo8g UNIQUE (nationality_name);


--
-- TOC entry 4927 (class 2606 OID 18859)
-- Name: samples uktn16fc5jfvf1gc4uysao237m1; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.samples
    ADD CONSTRAINT uktn16fc5jfvf1gc4uysao237m1 UNIQUE (barcode);


--
-- TOC entry 4899 (class 2606 OID 16678)
-- Name: user_roles user_roles_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_roles
    ADD CONSTRAINT user_roles_pkey PRIMARY KEY (user_id, role_id);


--
-- TOC entry 4887 (class 2606 OID 16647)
-- Name: users users_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT users_pkey PRIMARY KEY (user_id);


--
-- TOC entry 4889 (class 2606 OID 16649)
-- Name: users users_username_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT users_username_key UNIQUE (username);


--
-- TOC entry 4935 (class 2606 OID 18853)
-- Name: visits visits_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.visits
    ADD CONSTRAINT visits_pkey PRIMARY KEY (visit_id);


--
-- TOC entry 4943 (class 2606 OID 18870)
-- Name: storage_units fk7c3oa46f2e055dp39csfc6jqe; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.storage_units
    ADD CONSTRAINT fk7c3oa46f2e055dp39csfc6jqe FOREIGN KEY (location_id) REFERENCES public.storage_locations(location_id);


--
-- TOC entry 4942 (class 2606 OID 18865)
-- Name: storage_containers fk7kxapkkwxuplb4v6h4ryrlcyt; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.storage_containers
    ADD CONSTRAINT fk7kxapkkwxuplb4v6h4ryrlcyt FOREIGN KEY (unit_id) REFERENCES public.storage_units(unit_id);


--
-- TOC entry 4941 (class 2606 OID 18860)
-- Name: patients fk9u8tk95umef2n16dv4ugcbumx; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.patients
    ADD CONSTRAINT fk9u8tk95umef2n16dv4ugcbumx FOREIGN KEY (nationality_id) REFERENCES public.nationalities(nationality_id);


--
-- TOC entry 4939 (class 2606 OID 16701)
-- Name: role_permissions fk_role_permissions_permission; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.role_permissions
    ADD CONSTRAINT fk_role_permissions_permission FOREIGN KEY (permission_id) REFERENCES public.permissions(permission_id) ON DELETE CASCADE;


--
-- TOC entry 4940 (class 2606 OID 16696)
-- Name: role_permissions fk_role_permissions_role; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.role_permissions
    ADD CONSTRAINT fk_role_permissions_role FOREIGN KEY (role_id) REFERENCES public.roles(role_id) ON DELETE CASCADE;


--
-- TOC entry 4936 (class 2606 OID 16627)
-- Name: sample_transactions fk_transactions_type; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.sample_transactions
    ADD CONSTRAINT fk_transactions_type FOREIGN KEY (transaction_type_id) REFERENCES public.transaction_types(transaction_type_id);


--
-- TOC entry 4937 (class 2606 OID 16684)
-- Name: user_roles fk_user_roles_role; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_roles
    ADD CONSTRAINT fk_user_roles_role FOREIGN KEY (role_id) REFERENCES public.roles(role_id) ON DELETE CASCADE;


--
-- TOC entry 4938 (class 2606 OID 16679)
-- Name: user_roles fk_user_roles_user; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_roles
    ADD CONSTRAINT fk_user_roles_user FOREIGN KEY (user_id) REFERENCES public.users(user_id) ON DELETE CASCADE;


--
-- TOC entry 4944 (class 2606 OID 18999)
-- Name: visit_comorbid_diagnoses fka1num7749lmlqfdpuddw0eo9l; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.visit_comorbid_diagnoses
    ADD CONSTRAINT fka1num7749lmlqfdpuddw0eo9l FOREIGN KEY (visit_id) REFERENCES public.visits(visit_id);


-- Completed on 2026-02-10 14:26:32

--
-- PostgreSQL database dump complete
--

\unrestrict 0wXNiaph0zd3jQK21f9Wg9UcouSj9DNbvhUwcHG3nHuCYcJT3QP3242UfGybGQ3

